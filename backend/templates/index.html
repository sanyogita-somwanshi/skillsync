<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SkillSync - Build the Skillset Recruiters Want</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom colors based on the aesthetic goal */
        .color-primary { background-color: #0d9488; } /* Deep Teal */
        .color-accent { background-color: #38bdf8; } /* Vibrant Cyan */
        .text-primary { color: #0f766e; } /* Darker Teal Text */

        /* Aesthetic adjustments: rounded corners and transitions */
        .rounded-xl-lg { border-radius: 1.5rem; }
        .transition-ease { transition: all 0.3s ease-in-out; }

        /* --- CHATBOT WIDGET CSS --- */
        .chatbot-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
            cursor: pointer;
        }
        .chatbot-icon {
            box-shadow: 0 10px 15px -3px rgba(13, 148, 136, 0.5), 0 4px 6px -2px rgba(13, 148, 136, 0.1);
        }
        .chatbot-window {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: min(90vw, 380px);
            height: min(70vh, 550px);
            z-index: 1001;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.2), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            display: none; /* Hidden by default */
            flex-direction: column;
        }
        /* Style for user messages */
        .user-message {
            background-color: #38bdf8; /* Vibrant Cyan */
            color: white;
            border-radius: 1rem 1rem 0.2rem 1rem;
            padding: 10px 14px;
            margin-bottom: 10px;
            text-align: right;
            align-self: flex-end;
            max-width: 80%;
            font-size: 0.95rem;
        }
        /* Style for AI messages */
        .ai-message {
            background-color: #f0fdfa; /* Light Teal */
            border: 1px solid #0d9488;
            border-radius: 1rem 1rem 1rem 0.2rem;
            padding: 10px 14px;
            margin-bottom: 10px;
            align-self: flex-start;
            max-width: 80%;
            font-size: 0.95rem;
        }
        /* Loading Animation */
        .animate-pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: .5; }
        }
    </style>
</head>

<body class="font-sans text-gray-800 antialiased">

    <header class="sticky top-0 z-50 bg-white shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex justify-between items-center h-20">
            <a href="{{ url_for('home') }}" class="text-3xl font-bold text-teal-600 tracking-wider flex items-center space-x-2">
                <span>SkillSync</span>
            </a>
            
            <nav class="hidden md:flex space-x-10">
                <a href="{{ url_for('home') }}" class="text-gray-600 hover:text-teal-600 font-medium transition-ease">Home</a>
                <a href="#about-us" class="text-gray-600 hover:text-teal-600 font-medium transition-ease">About Us</a>
                <a href="{{ url_for('feedback') }}" class="text-gray-600 hover:text-teal-600 font-medium transition-ease">Student Feedback</a>
            </nav>
        </div>
    </header>

    <section class="bg-gray-50 py-16 md:py-20">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            
            <h1 class="text-5xl md:text-7xl font-extrabold text-gray-900 mb-6 leading-tight">
                <span class="text-teal-600">Stop Guessing.</span> Build the Skillset Recruiters Actually Want.
            </h1>
            
            <p class="text-xl md:text-2xl text-gray-600 mb-6 max-w-4xl mx-auto">
                SkillSync benchmarks your technical abilities against true industry demands and generates a personalized roadmap.
            </p>

            <p class="text-teal-600 font-bold text-center mb-8">Takes just 5 minutes to start your skill synchronization.</p>
            
            <a href="{{ url_for('register_page') }}" class="inline-block color-accent text-white font-bold text-xl py-4 px-12 rounded-xl-lg shadow-2xl hover:bg-sky-500 transition-ease">
                Start Your Assessment
            </a>
        </div>
    </section>

    <section class="py-20 bg-white" id="how-it-works">
        <div class="max-w-7xl mx-auto px-4">
            <h2 class="text-4xl font-bold text-center mb-12">How It Works</h2>
            <div class="grid md:grid-cols-3 gap-12">
                <div class="text-center p-6 bg-gray-50 rounded-xl-lg border-t-4 border-teal-500 shadow-md">
                    <h3 class="text-xl font-bold mb-2">1. Define Goal</h3>
                    <p class="text-gray-600">Select your target role (e.g., Data Scientist) to see the exact proficiency levels required by industry experts.</p>
                </div>
                <div class="text-center p-6 bg-gray-50 rounded-xl-lg border-t-4 border-teal-500 shadow-md">
                    <h3 class="text-xl font-bold mb-2">2. Assess Skills</h3>
                    <p class="text-gray-600">Rate your proficiency against real-world standards to instantly identify your skill gaps.</p>
                </div>
                <div class="text-center p-6 bg-gray-50 rounded-xl-lg border-t-4 border-teal-500 shadow-md">
                    <h3 class="text-xl font-bold mb-2">3. Execute Plan</h3>
                    <p class="text-gray-600">Follow a personalized roadmap with actionable projects to close the gap and get hired.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="about-us" class="py-20 bg-gray-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-extrabold text-gray-900">About <span class="text-teal-600">Us</span></h2>
                <p class="mt-4 text-xl text-gray-600 max-w-3xl mx-auto">
                    We are a team of educators, data analysts, and industry professionals dedicated to solving the student employability crisis.
                </p>
            </div>
            <div class="bg-white p-8 rounded-xl-lg shadow-lg">
                <h3 class="text-2xl font-bold text-gray-900 mb-4">Our Mission</h3>
                <p class="text-lg text-gray-700 leading-relaxed mb-6">
                    Our agenda is simple: **To analyze student data, identify critical skill gaps, and provide a structured guide toward career goals.** We believe that every student deserves a clear path to success, not just a degree. By bridging the divide between academic curriculums and corporate expectations, we ensure that students are not just educated, but *employable*.
                </p>
            </div>
        </div>
    </section>

    <section class="py-20 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid md:grid-cols-2 gap-12 items-center">
                <div>
                    <h2 class="text-4xl font-extrabold text-gray-900 mb-6">Why This Platform is <span class="text-teal-600">Critical</span></h2>
                    <p class="text-lg text-gray-700 mb-6">
                        There exists a noticeable gap between the academic skills students acquire in university and the practical skills required by industries. This "Skill Gap" reduces employability and makes it difficult for graduates to meet workplace expectations.
                    </p>
                    <ul class="space-y-4">
                        <li class="flex items-start">
                            <span class="text-teal-600 font-bold text-xl mr-3">âœ“</span>
                            <p class="text-gray-700"><strong>Identify Lacking Areas:</strong> A systematic analysis to pinpoint exactly where students fall short.</p>
                        </li>
                        <li class="flex items-start">
                            <span class="text-teal-600 font-bold text-xl mr-3">âœ“</span>
                            <p class="text-gray-700"><strong>Enhance Employability:</strong> Suggesting concrete measures to bridge the gap.</p>
                        </li>
                        <li class="flex items-start">
                            <span class="text-teal-600 font-bold text-xl mr-3">âœ“</span>
                            <p class="text-gray-700"><strong>Real Industry Alignment:</strong> Ensuring learning matches today's job market demands.</p>
                        </li>
                    </ul>
                </div>
                <div class="bg-teal-50 p-8 rounded-xl-lg border border-teal-100">
                    <h3 class="text-2xl font-bold text-teal-800 mb-4">Our Objectives</h3>
                    <div class="space-y-4">
                        <div class="bg-white p-4 rounded-lg shadow-sm">
                            <p class="font-semibold text-gray-800">1. Identify Major Skills</p>
                            <p class="text-sm text-gray-600">Pinpoint the technical and soft skills demanded by top industries.</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg shadow-sm">
                            <p class="font-semibold text-gray-800">2. Analyze the Gap</p>
                            <p class="text-sm text-gray-600">Measure the difference between academic learning and industry needs.</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg shadow-sm">
                            <p class="font-semibold text-gray-800">3. Recommend Strategies</p>
                            <p class="text-sm text-gray-600">Provide actionable roadmaps to bridge the gap effectively.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <div class="py-20 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <h2 class="text-3xl font-bold mb-8">What Our Students Say</h2>
            <div class="grid md:grid-cols-3 gap-8">
                {% if feedbacks %}
                    {% for review in feedbacks %}
                        <div class="p-6 bg-white rounded-xl-lg shadow-md border border-gray-100">
                            <p class="text-gray-600 italic mb-4">"{{ review.message }}"</p>
                            <p class="font-bold text-teal-600">- {{ review.student_name }}</p>
                        </div>
                    {% endfor %}
                {% else %}
                     <p class="col-span-3 text-gray-500">Be the first to leave feedback!</p>
                {% endif %}
            </div>
        </div>
    </div>

    <footer class="py-8 bg-gray-900 text-white text-center">
        <div class="max-w-7xl mx-auto px-4">
            &copy; 2025 SkillSync. All rights reserved. | <a href="#" class="hover:text-teal-400">Privacy Policy</a>
        </div>
    </footer>

    <div id="chatbot-button" class="chatbot-button transition-ease hidden" onclick="toggleChatbot()">
        <div class="color-primary chatbot-icon rounded-full p-4 text-white hover:shadow-xl hover:scale-105 transition-ease flex items-center justify-center">
            <span class="text-3xl font-bold">ðŸ’¬</span>
        </div>
    </div>
    
    <div id="chatbot-window" class="chatbot-window bg-white rounded-xl-lg border-2 border-teal-500">
        <div class="p-4 color-primary text-white font-bold flex justify-between items-center rounded-t-xl-lg">
            <span>AI Career Guide</span>
            <button onclick="toggleChatbot()" class="text-xl font-light leading-none hover:text-gray-200">âœ•</button>
        </div>
        <div id="chat-messages" class="flex-grow p-4 overflow-y-auto flex flex-col bg-gray-50">
             <div class="ai-message">
                ðŸ‘‹ Hi! I'm your SkillSync Guide. I can explain how our assessments work or help you choose a career path. What's on your mind?
            </div>
        </div>
        <div class="p-3 border-t border-gray-200 flex bg-white rounded-b-xl-lg">
            <input type="text" id="chat-input" placeholder="Ask me anything..." class="flex-grow p-2 border border-gray-300 rounded-l-lg focus:outline-none focus:border-teal-500 text-sm">
            <button onclick="sendMessage()" id="send-button" class="bg-teal-600 text-white px-4 py-2 rounded-r-lg font-semibold hover:bg-teal-700 transition-ease text-sm">
                Send
            </button>
        </div>
    </div>
    <script>
        // --- CHATBOT LOGIC ---
        const API_KEY = "AIzaSyDJ_Zv3pC_c0CRlm_ULZk1h7BgN6ZW4wN4"; 
        const API_URL = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${API_KEY}`;
        let chatHistory = [];
        
        // Context for the AI so it knows about SkillSync
        const SYSTEM_INSTRUCTION = "You are the helpful AI Guide for the SkillSync website. Your goal is to help students understand the platform. Key Info: SkillSync helps students bridge the gap between academic skills and industry needs. Features: 1. Technical Roadmap (gap analysis for roles like Data Scientist, Web Dev). 2. Soft Skills (activities for Communication, Leadership). 3. Progress Tracking. Please be encouraging, concise, and guide them to 'Start Assessment' or 'Register' if they are new.";

        function toggleChatbot() {
            const window = document.getElementById('chatbot-window');
            // Toggle display style
            if (window.style.display === 'none' || window.style.display === '') {
                window.style.display = 'flex';
            } else {
                window.style.display = 'none';
            }
        }

        function appendMessage(sender, message) {
            const chatMessages = document.getElementById('chat-messages');
            const messageDiv = document.createElement('div');
            // Use Flexbox to align messages correctly
            messageDiv.className = `flex w-full ${sender === 'user' ? 'justify-end' : 'justify-start'} mb-2`;
            
            // Inner div handles the styling
            const innerDiv = document.createElement('div');
            innerDiv.className = sender === 'user' ? 'user-message' : 'ai-message';
            
            // Convert simple markdown bolding to HTML if needed, or just text
            innerDiv.textContent = message;
            
            messageDiv.appendChild(innerDiv);
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function showLoading() {
            const chatMessages = document.getElementById('chat-messages');
            const loadingDiv = document.createElement('div');
            loadingDiv.id = 'loading-indicator';
            loadingDiv.className = 'flex justify-start mb-2';
            loadingDiv.innerHTML = `<div class="ai-message animate-pulse">Thinking...</div>`;
            chatMessages.appendChild(loadingDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
            document.getElementById('send-button').disabled = true;
        }

        function hideLoading() {
            const loading = document.getElementById('loading-indicator');
            if (loading) loading.remove();
            document.getElementById('send-button').disabled = false;
        }

        async function sendMessage() {
            const input = document.getElementById('chat-input');
            const prompt = input.value.trim();
            if (!prompt) return;
            
            // 1. Display User Message
            input.value = '';
            appendMessage('user', prompt);
            showLoading();

            // 2. Prepare Payload
            chatHistory.push({ role: "user", parts: [{ text: prompt }] });
            const payload = { 
                contents: chatHistory, 
                systemInstruction: { parts: [{ text: SYSTEM_INSTRUCTION }] } 
            };
            
            try {
                const response = await fetch(API_URL, { 
                    method: 'POST', 
                    headers: { 'Content-Type': 'application/json' }, 
                    body: JSON.stringify(payload) 
                });
                
                const data = await response.json();
                const text = data.candidates?.[0]?.content?.parts?.[0]?.text || "I'm having trouble connecting right now. Please try again.";
                
                // 3. Display AI Message
                hideLoading();
                appendMessage('ai', text);
                chatHistory.push({ role: "model", parts: [{ text }] });
            } catch (e) {
                hideLoading();
                appendMessage('ai', "Error connecting to AI. Please check your internet.");
            }
        }
        
        document.getElementById('chat-input').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        // Initialize Chatbot button visibility
        document.addEventListener('DOMContentLoaded', () => {
            const chatbotButton = document.getElementById('chatbot-button');
            if (chatbotButton) {
                chatbotButton.classList.remove('hidden'); 
            }
        });
    </script>
</body>
</html>